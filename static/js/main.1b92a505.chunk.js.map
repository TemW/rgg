{"version":3,"sources":["features/wheel/sounds/wheel-tick.mp3","features/wheel/sounds/wheel-complete.mp3","utils/analytics.ts","utils/constants.ts","styles/common.ts","styles/index.ts","features/options/optionsUtils.ts","features/options/optionsSlice.ts","components/Header.tsx","components/Sidebar.tsx","utils/buildDate.ts","features/rollGame/rollGameUtils.ts","components/Footer.tsx","features/platforms/Platform.tsx","features/rollGame/rollGameSlice.ts","features/platforms/Platforms.tsx","components/PrettoSlider.tsx","features/options/options.mock.ts","features/options/Options.tsx","features/rollGame/GameLinks.tsx","utils/timingFunction.ts","features/wheel/getTextWidth.ts","features/wheel/sliceTextByMaxWidth.ts","features/wheel/drawWheel.ts","features/wheel/useDrawWheel.ts","icons/arrow-right.svg","features/wheel/WheelCanvas.tsx","utils/replaceSpacesWithNbsp.ts","features/rollGame/SelectedPlatformsMessage.tsx","features/rollGame/Result.tsx","features/rollGame/RollGame.tsx","app/App.tsx","app/rootReducer.ts","app/store.ts","serviceWorker.ts","index.tsx"],"names":["module","exports","CATEGORIES","sendEvent","eventArgs","ReactGA","event","initialize","page","pageview","rollGame","start","category","action","complete","searchLink","serviceId","label","platforms","selectAll","selectNone","platformNameClick","platformId","platformCheckboxClick","ui","isVisible","options","changeOption","name","value","link","url","GLOBAL_FONT","BREAKPOINTS","css","createGlobalStyle","common","writeOptionsToLocalStorage","localStorage","setItem","JSON","stringify","initialState","selectedPlatformIds","secondsToSpin","speed","numberOfGames","currentTheme","getItem","parse","e","readOptionsFromLocalStorage","createSlice","reducers","updateOption","state","payload","selectPlatform","togglePlatform","index","indexOf","splice","push","actions","secondsToSpinSelector","speedSelector","numberOfGamesSelector","selectedPlatformIdsSelector","currentThemeSelector","HeaderRoot","styled","AppBar","p","theme","palette","background","default","text","primary","HeaderInner","div","Buttons","React","memo","className","dispatch","useDispatch","useTheme","windowSize","useWindowSize","useSelector","position","Typography","variant","width","Tooltip","title","IconButton","color","href","target","rel","onClick","analytics","LinksRoot","aside","buildDate","gamesCount","R","games","FooterRoot","footer","divider","FooterInner","FooterLink","Link","attrs","buildDateString","format","Date","id","checked","onNameClick","onCheckboxClick","ListItem","key","button","selected","style","padding","alignItems","Checkbox","edge","onChange","ListItemText","primaryTypographyProps","fontWeight","margin","display","secondary","secondaryTypographyProps","marginLeft","colors","isRolling","gameIndex","rolledGames","updateRolledGamesThunk","rollGameStart","rollGameComplete","isRollingSelector","rolledGamesSelector","rolledGameSelector","updateRolledGames","getState","count","gamesBySelectedPlatforms","length","items","shuffle","map","rest","platform","find","getRandomGames","PlatformsRoot","PlatformsList","isDisabled","Platforms","setIsVisible","useState","handleNameClick","useCallback","handleCheckboxClick","handleSelectAll","handleSelectNone","Box","justifyContent","mb","Button","size","component","startIcon","height","flexGrow","native","List","dense","disablePadding","releaseDate","includes","filter","marginBottom","PrettoSlider","withStyles","root","thumb","backgroundColor","border","marginTop","boxShadow","active","valueLabel","left","track","borderRadius","rail","Slider","type","step","min","max","marks","Array","_","i","n","OptionsRoot","OptionsList","Options","values","renderOption","Fragment","gutterBottom","defaultValue","valueLabelDisplay","renderSlider","debounce","GameLinksRoot","ServiceLink","Links","GameLinks","rolledGame","links","searchQuery","encodeURI","replace","icon","getLinks","f1","easeExpOut","f2","easeExpInOut","f3","easeCircleInOut","timingFunction","canvas","getTextWidth","font","document","createElement","context","getContext","measureText","sliceTextByMaxWidth","maxWidth","beginCursor","endCursor","cursor","Math","floor","textSlice","slice","getX","offset","radius","angle","sin","getY","cos","precompiledWheel","wheelHash","precompileWheel","segments","segmentAngle","textFont","wheelColors","scale","ctx","textOffset","clearRect","arc","PI","fillStyle","wheelBackground","fill","beginPath","LINE_WIDTH","strokeStyle","lineWidth","forEach","lineX","lineY","moveTo","lineTo","stroke","segment","meanAngle","angle1","angle2","atan2","textAngleRotation","textAngle","textX","textY","save","translate","rotate","fillText","restore","drawCircle","drawState","rotationAngle","setTransform","currentHash","getWheelHash","drawImage","wheelTickSfx","require","wheelCompleteSfx","getGameIndexByAngle","normalizedAngle","abs","getDevicePixelRatio","window","devicePixelRatio","getTextFont","getSegmentAngle","segmentsCount","useDrawCircle","canvasRef","onRollComplete","playTick","useSound","playComplete","stateRef","useRef","drawStateRef","current","requestId","prevTime","fullTime","currentIndex","stop","getInitialState","getInitialDrawState","useEffect","textMaxWidth","maxTextWidth","requestAnimationFrame","drawWheel","handleResize","addEventListener","removeEventListener","cancelAnimationFrame","animate","time","deltaTime","timeI","speedI","deltaAngle","_extends","Object","assign","arguments","source","prototype","hasOwnProperty","call","apply","this","_ref","strokeWidth","d","SvgArrowRight","svgRef","props","viewBox","ref","ForwardRef","forwardRef","CircleCanvasRoot","Canvas","RollButton","textColor","bgColor","borderColor","ArrowRightIcon","wheelThemes","dark","buttonBackground","light","CircleCanvas","setRadius","setWheelColors","isRollButtonDisabled","useDrawWheel","disabled","replaceSpacesWithNbsp","SelectedPlatformsMessage","selectedPlatformsText","selectedPlatforms","selectedPlatformsList","dangerouslySetInnerHTML","__html","renderSelectedPlatformsList","ResultRoot","Result","textAlign","renderRolledGame","RollGameRoot","main","RollGame","WheelCanvas","themes","paper","AppRoot","StyledHeader","Header","StyledSidebarLeft","Sidebar","StyledSidebarRight","StyledRollGame","StyledFooter","Footer","getTheme","createMuiTheme","App","setTheme","ThemeProvider","bgcolor","rootReducer","combineReducers","store","configureStore","reducer","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","onUpdate","onSuccess","catch","error","pathname","search","hash","ReactDOM","render","getElementById","URL","process","origin","fetch","headers","response","contentType","get","status","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.1b92a505.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/wheel-tick.bc4c0978.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wheel-complete.cc79d620.mp3\";","import ReactGA from 'react-ga';\n\nconst CATEGORIES = {\n  rollGame: 'Roll Game',\n  searchLinks: 'Search Links',\n  platforms: 'Platforms',\n  userInterface: 'User Interface',\n};\n\nconst initialize = () => ReactGA.initialize('UA-139550930-4');\n\nconst pageview = (page: string) => ReactGA.pageview(page);\n\nconst sendEvent = (eventArgs: ReactGA.EventArgs) => {\n  if (process.env.NODE_ENV !== 'production') {\n    // console.log(eventArgs);\n  } else {\n    ReactGA.event(eventArgs);\n  }\n};\n\nconst event = {\n  rollGame: {\n    start: () =>\n      sendEvent({\n        category: CATEGORIES.rollGame,\n        action: 'Start',\n      }),\n    complete: () =>\n      sendEvent({\n        category: CATEGORIES.rollGame,\n        action: 'Complete',\n      }),\n  },\n\n  // search links\n  searchLink: (serviceId: string) =>\n    sendEvent({\n      category: CATEGORIES.searchLinks,\n      action: 'Search Link Click',\n      label: serviceId,\n    }),\n\n  // platforms\n  platforms: {\n    selectAll: () =>\n      sendEvent({\n        category: CATEGORIES.platforms,\n        action: 'Select All Click',\n      }),\n    selectNone: () =>\n      sendEvent({\n        category: CATEGORIES.platforms,\n        action: 'Select None Click',\n      }),\n    platformNameClick: (platformId: string) =>\n      sendEvent({\n        category: CATEGORIES.platforms,\n        action: 'Platform Name Click',\n        label: platformId,\n      }),\n    platformCheckboxClick: (platformId: string) =>\n      sendEvent({\n        category: CATEGORIES.platforms,\n        action: 'Platform Checkbox Click',\n        label: platformId,\n      }),\n  },\n\n  // user interface\n  ui: {\n    platforms: (isVisible: boolean) =>\n      sendEvent({\n        category: CATEGORIES.userInterface,\n        action: 'Platforms',\n        label: isVisible ? 'Show' : 'Hide',\n      }),\n    options: (isVisible: boolean) =>\n      sendEvent({\n        category: CATEGORIES.userInterface,\n        action: 'Options',\n        label: isVisible ? 'Show' : 'Hide',\n      }),\n    changeOption: (name: string, value: number) =>\n      sendEvent({\n        category: CATEGORIES.userInterface,\n        action: 'Change Option',\n        label: name,\n        value,\n      }),\n    link: (url: string) =>\n      sendEvent({\n        category: CATEGORIES.userInterface,\n        action: 'Link',\n        label: url,\n      }),\n  },\n};\n\nexport default {\n  initialize,\n  pageview,\n  event,\n};\n","export const GLOBAL_FONT = 'Roboto, Helvetica, Arial, sans-serif';\n\nexport const LS_OPTIONS = 'rggOptions';\n\nexport const BREAKPOINTS = {\n  sm: 450,\n  md: 720,\n  lg: 1200,\n  xl: 1840,\n};\n","import { css } from 'styled-components';\n\nimport { GLOBAL_FONT } from 'utils/constants';\n\nexport default css`\n  * {\n    box-sizing: border-box;\n  }\n\n  body {\n    font-family: ${GLOBAL_FONT};\n    margin: 0;\n  }\n`;\n","import { createGlobalStyle } from 'styled-components';\n\nimport common from 'styles/common';\n\nexport default createGlobalStyle`\n  ${common}\n`;\n","import { LS_OPTIONS } from 'utils/constants';\n\nexport const writeOptionsToLocalStorage = (options: object) => {\n  localStorage.setItem(LS_OPTIONS, JSON.stringify(options));\n};\n\nexport const readOptionsFromLocalStorage = () => {\n  const options = localStorage.getItem(LS_OPTIONS);\n\n  try {\n    return JSON.parse(options || '{}');\n  } catch (e) {\n    return {};\n  }\n};\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { RootState } from 'app/rootReducer';\nimport {\n  writeOptionsToLocalStorage,\n  readOptionsFromLocalStorage,\n} from 'features/options/optionsUtils';\nimport { AppTheme } from 'features/options/optionsTypes';\n\ntype OptionsState = {\n  selectedPlatformIds: string[];\n  secondsToSpin: number;\n  speed: number;\n  numberOfGames: number;\n  currentTheme: AppTheme;\n};\n\nexport type OptionName =\n  | 'secondsToSpin'\n  | 'speed'\n  | 'numberOfGames'\n  | 'selectedPlatformIds'\n  | 'currentTheme';\ntype UpdateOptionAction = {\n  name: OptionName;\n  value: any;\n};\n\nconst initialState: OptionsState = {\n  selectedPlatformIds: ['playstation', 'playstation-2'],\n  secondsToSpin: 30,\n  speed: 3,\n  numberOfGames: 16,\n  currentTheme: 'dark',\n  ...readOptionsFromLocalStorage(),\n};\n\n// TODO: remove side effect from reducers\nconst options = createSlice({\n  name: 'options',\n  initialState,\n  reducers: {\n    updateOption: (state, { payload }: PayloadAction<UpdateOptionAction>) => {\n      const { name, value } = payload;\n      (state as any)[name] = value;\n\n      writeOptionsToLocalStorage(state);\n    },\n    selectPlatform: (state, { payload }: PayloadAction<string>) => {\n      state.selectedPlatformIds = [payload];\n\n      writeOptionsToLocalStorage(state);\n    },\n    togglePlatform: (state, { payload }: PayloadAction<string>) => {\n      const index = state.selectedPlatformIds.indexOf(payload);\n\n      if (index > -1) {\n        state.selectedPlatformIds.splice(index, 1);\n      } else {\n        state.selectedPlatformIds.push(payload);\n      }\n\n      writeOptionsToLocalStorage(state);\n    },\n  },\n});\n\nexport const { updateOption, selectPlatform, togglePlatform } = options.actions;\n\nexport default options.reducer;\n\n// selectors\nexport const secondsToSpinSelector = (state: RootState) =>\n  state.options.secondsToSpin;\n\nexport const speedSelector = (state: RootState) => state.options.speed;\n\nexport const numberOfGamesSelector = (state: RootState) =>\n  state.options.numberOfGames;\n\nexport const selectedPlatformIdsSelector = (state: RootState) =>\n  state.options.selectedPlatformIds;\n\nexport const currentThemeSelector = (state: RootState) =>\n  state.options.currentTheme;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useWindowSize } from 'react-use';\nimport { useTheme, Theme } from '@material-ui/core/styles';\nimport { Typography, IconButton, Tooltip, AppBar } from '@material-ui/core';\nimport DarkThemeIcon from '@material-ui/icons/Brightness7';\nimport LightThemeIcon from '@material-ui/icons/Brightness4';\nimport GitHubIcon from '@material-ui/icons/GitHub';\n\nimport analytics from 'utils/analytics';\nimport { BREAKPOINTS } from 'utils/constants';\nimport {\n  currentThemeSelector,\n  updateOption,\n} from 'features/options/optionsSlice';\n\nconst HeaderRoot = styled(AppBar)<{ theme: Theme }>`\n  background-color: ${(p) => p.theme.palette.background.default} !important;\n  color: ${(p) => p.theme.palette.text.primary} !important;\n`;\nconst HeaderInner = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto;\n  position: relative;\n  width: 100%;\n  height: 100%;\n\n  @media (min-width: ${BREAKPOINTS.lg}px) {\n    width: ${BREAKPOINTS.lg}px;\n  }\n\n  @media (min-width: ${BREAKPOINTS.xl}px) {\n    width: 1640px;\n  }\n`;\nconst Buttons = styled.div`\n  right: 8px;\n\n  & > :first-child {\n    display: none;\n  }\n\n  @media (min-width: 600px) {\n    position: absolute !important;\n\n    & > :first-child {\n      display: inline-flex;\n    }\n  }\n\n  @media (min-width: ${BREAKPOINTS.lg}px) {\n    right: 0;\n  }\n`;\n\ntype Props = {\n  className?: string;\n};\n\nconst Header = ({ className }: Props) => {\n  const dispatch = useDispatch();\n\n  const theme = useTheme();\n  const windowSize = useWindowSize();\n  const currentTheme = useSelector(currentThemeSelector);\n\n  const handleToggleTheme = () => {\n    const name = 'currentTheme';\n    const value = currentTheme === 'dark' ? 'light' : 'dark';\n\n    analytics.event.ui.changeOption(name, value === 'dark' ? 1 : 0);\n    dispatch(updateOption({ name, value }));\n  };\n\n  return (\n    <HeaderRoot className={className} position=\"static\" theme={theme}>\n      <HeaderInner>\n        <Typography variant={windowSize.width < BREAKPOINTS.sm ? 'h5' : 'h4'}>\n          Retro Game Gauntlet\n        </Typography>\n        <Buttons>\n          <Tooltip title=\"GitHub Repository\">\n            <IconButton\n              color=\"inherit\"\n              href=\"//github.com/honeykingdom/rgg/\"\n              target=\"_blank\"\n              rel=\"noreferrer noopener\"\n            >\n              <GitHubIcon />\n            </IconButton>\n          </Tooltip>\n          <Tooltip title=\"Toggle dark/light theme\">\n            <IconButton color=\"inherit\" onClick={handleToggleTheme}>\n              {currentTheme === 'dark' ? <LightThemeIcon /> : <DarkThemeIcon />}\n            </IconButton>\n          </Tooltip>\n        </Buttons>\n      </HeaderInner>\n    </HeaderRoot>\n  );\n};\n\nexport default React.memo(Header);\n","import styled from 'styled-components';\n\nconst LinksRoot = styled.aside`\n  display: flex;\n  flex-direction: column;\n\n  & > :not(:last-child) {\n    margin-bottom: 32px;\n  }\n`;\n\nexport default LinksRoot;\n","import preval from \"preval.macro\";\n\nconst buildDate = preval`module.exports = Date.now()` as number;\n\nexport default buildDate;\n","import * as R from 'ramda';\nimport { shuffle } from 'd3-array';\n\nimport { RolledGame } from 'features/rollGame/rollGameTypes';\n\nimport games from 'data/games.json';\nimport platforms from 'data/platforms.json';\n\nexport const getRandomGames = (\n  selectedPlatformIds: string[],\n  count: number,\n): RolledGame[] => {\n  const gamesBySelectedPlatforms = selectedPlatformIds.length\n    ? R.pick(selectedPlatformIds, games)\n    : games;\n\n  const rolledGames = R.pipe<any, any, any, any, any, any>(\n    R.toPairs,\n    R.map<any, any>(([platformId, items]) =>\n      R.map((name) => ({ platformId, name }), items),\n    ),\n    R.flatten,\n    shuffle,\n    R.slice(0, count),\n  )(gamesBySelectedPlatforms);\n\n  return rolledGames.map(({ platformId, ...rest }: any) => {\n    const platform = platforms.find(R.propEq('id', platformId));\n\n    return {\n      platform: platform?.name || '',\n      ...rest,\n    };\n  });\n};\n\nexport const gamesCount = R.pipe<any, any, any, any>(\n  R.values,\n  R.flatten,\n  R.propOr(0, 'length'),\n)(games) as number;\n\n// longest game names\n// console.log(\n//   R.pipe<any, any, any, any, any>(\n//     R.values,\n//     R.flatten,\n//     R.sortWith([R.descend(R.prop(\"length\"))]),\n//     R.slice(0, 10)\n//   )(games)\n// );\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Typography, Link, useTheme, Theme } from '@material-ui/core';\nimport { format } from 'date-fns';\n\nimport analytics from 'utils/analytics';\nimport { BREAKPOINTS } from 'utils/constants';\nimport buildDate from 'utils/buildDate';\nimport { gamesCount } from 'features/rollGame/rollGameUtils';\n\nconst FooterRoot = styled.footer<{ theme: Theme }>`\n  display: flex;\n  justify-content: center;\n  border-top: 1px solid ${(p) => p.theme.palette.divider};\n`;\nconst FooterInner = styled(Typography)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-around;\n  flex-grow: 1;\n  max-width: 1280px;\n  height: 100%;\n  font-size: 0.8rem !important;\n  text-align: center;\n  opacity: 0.6;\n\n  @media (min-width: ${BREAKPOINTS.md}px) {\n    flex-direction: row;\n    text-align: left;\n  }\n`;\nconst FooterLink = styled(Link).attrs({\n  rel: 'noreferrer noopener',\n  target: '_blank',\n  color: 'inherit',\n})``;\n\ntype Props = {\n  className?: string;\n};\n\n// TODO: add FAQ\n\nconst gamesListSourceUrl = '//nukecritic.com/rgg/';\nconst authorUrl = '//github.com/DmitryScaletta';\n\nconst buildDateString = format(new Date(buildDate), 'P p');\n\nconst Footer = ({ className }: Props) => {\n  const theme = useTheme();\n\n  return (\n    <FooterRoot className={className} theme={theme}>\n      <FooterInner>\n        <Typography variant=\"inherit\" color=\"textSecondary\">\n          Games in database:{' '}\n          <Typography variant=\"inherit\" color=\"textPrimary\">\n            {gamesCount}\n          </Typography>{' '}\n          (\n          <FooterLink\n            href={gamesListSourceUrl}\n            onClick={() => analytics.event.ui.link(gamesListSourceUrl)}\n          >\n            source\n          </FooterLink>\n          )\n        </Typography>\n\n        <Typography variant=\"inherit\" color=\"textSecondary\">\n          Author:{' '}\n          <Typography variant=\"inherit\" color=\"textPrimary\">\n            <FooterLink\n              href={authorUrl}\n              onClick={() => analytics.event.ui.link(authorUrl)}\n            >\n              DmitryScaletta\n            </FooterLink>\n          </Typography>\n        </Typography>\n\n        <Typography variant=\"inherit\" color=\"textSecondary\">\n          Last update:{' '}\n          <Typography variant=\"inherit\" color=\"textPrimary\">\n            {buildDateString}\n          </Typography>\n        </Typography>\n      </FooterInner>\n    </FooterRoot>\n  );\n};\n\nexport default React.memo(Footer);\n","import React from 'react';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport * as colors from '@material-ui/core/colors';\n\ntype Props = {\n  id: string;\n  name: string;\n  releaseDate: string;\n  gamesCount: number;\n  checked: boolean;\n  onNameClick: (id: string) => void;\n  onCheckboxClick: (id: string) => void;\n};\n\nconst Platform = ({\n  id,\n  name,\n  gamesCount,\n  checked,\n  onNameClick,\n  onCheckboxClick,\n}: Props) => (\n  <ListItem\n    key={id}\n    button\n    selected={checked}\n    style={{ padding: '0 12px', alignItems: 'stretch' }}\n  >\n    <Checkbox\n      edge=\"start\"\n      color=\"default\"\n      checked={checked}\n      style={{ padding: 4 }}\n      onChange={() => onCheckboxClick(id)}\n    />\n    <ListItemText\n      id={id}\n      primary={name}\n      primaryTypographyProps={{ style: { fontWeight: 'bold' } }}\n      style={{ margin: 0, display: 'flex', alignItems: 'center' }}\n      secondary={`(${gamesCount} games)`}\n      secondaryTypographyProps={{\n        style: { display: 'inline', marginLeft: 4, color: colors.grey[500] },\n      }}\n      onClick={() => onNameClick(id)}\n    />\n  </ListItem>\n);\n\nexport default React.memo(Platform);\n","/* eslint-disable no-param-reassign */\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { RootState } from 'app/rootReducer';\nimport { AppDispatch } from 'app/store';\nimport {\n  numberOfGamesSelector,\n  selectedPlatformIdsSelector,\n} from 'features/options/optionsSlice';\nimport { getRandomGames } from 'features/rollGame/rollGameUtils';\nimport { RolledGame } from 'features/rollGame/rollGameTypes';\n\ninterface RollGameState {\n  isRolling: boolean;\n  gameIndex: number | null;\n  rolledGames: RolledGame[];\n}\n\nconst initialState: RollGameState = {\n  isRolling: false,\n  gameIndex: null,\n  rolledGames: [],\n};\n\nconst rollGame = createSlice({\n  name: 'rollGame',\n  initialState,\n  reducers: {\n    updateRolledGamesThunk: (\n      state,\n      { payload }: PayloadAction<RolledGame[]>,\n    ) => {\n      state.rolledGames = payload;\n    },\n    rollGameStart: (state) => {\n      state.isRolling = true;\n      state.gameIndex = null;\n    },\n    rollGameComplete: (state, { payload }: PayloadAction<number>) => {\n      state.isRolling = false;\n      state.gameIndex = payload;\n    },\n  },\n});\n\nexport const { rollGameStart, rollGameComplete } = rollGame.actions;\n\nconst { updateRolledGamesThunk } = rollGame.actions;\n\nexport default rollGame.reducer;\n\n// selectors\nexport const isRollingSelector = (state: RootState) => state.rollGame.isRolling;\n\nexport const rolledGamesSelector = (state: RootState) =>\n  state.rollGame.rolledGames;\n\nexport const rolledGameIndexSelector = (state: RootState) =>\n  state.rollGame.gameIndex;\n\nexport const rolledGameSelector = (state: RootState) => {\n  if (state.rollGame.gameIndex === null) return null;\n\n  return state.rollGame.rolledGames[state.rollGame.gameIndex];\n};\n\n// actions\nexport const updateRolledGames = () => (\n  dispatch: AppDispatch,\n  getState: () => RootState,\n) => {\n  const state = getState();\n\n  const numberOfGames = numberOfGamesSelector(state);\n  const selectedPlatformIds = selectedPlatformIdsSelector(state);\n\n  const rolledGames = getRandomGames(selectedPlatformIds, numberOfGames);\n\n  dispatch(updateRolledGamesThunk(rolledGames));\n};\n","import React, { useState, useCallback } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport styled, { css } from 'styled-components';\nimport Scrollbar from 'react-scrollbars-custom';\nimport { useWindowSize } from 'react-use';\nimport { Typography, List, Button, Box, ListItem } from '@material-ui/core';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\n\nimport analytics from 'utils/analytics';\nimport { BREAKPOINTS } from 'utils/constants';\nimport Platform from 'features/platforms/Platform';\nimport {\n  selectPlatform,\n  togglePlatform,\n  updateOption,\n  selectedPlatformIdsSelector,\n} from 'features/options/optionsSlice';\nimport { isRollingSelector } from 'features/rollGame/rollGameSlice';\n\nimport platforms from 'data/platforms.json';\n\nconst PlatformsRoot = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n`;\nconst PlatformsList = styled.div<{ isDisabled: boolean }>`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  transition-property: opacity;\n  transition-duration: 0.2s;\n  transition-timing-function: ease;\n\n  ${(p) =>\n    p.isDisabled &&\n    css`\n      opacity: 0.5;\n      pointer-events: none;\n    `};\n`;\n\nconst Platforms = () => {\n  const dispatch = useDispatch();\n  const [isVisible, setIsVisible] = useState(true);\n  const isRolling = useSelector(isRollingSelector);\n  const selectedPlatformIds = useSelector(selectedPlatformIdsSelector);\n\n  const windowSize = useWindowSize();\n\n  const handleToggleIsVisible = () => {\n    setIsVisible(!isVisible);\n    analytics.event.ui.platforms(!isVisible);\n  };\n\n  const handleNameClick = useCallback(\n    (id: string) => {\n      dispatch(selectPlatform(id));\n      analytics.event.platforms.platformNameClick(id);\n    },\n    [dispatch],\n  );\n\n  const handleCheckboxClick = useCallback(\n    (id: string) => {\n      dispatch(togglePlatform(id));\n      analytics.event.platforms.platformCheckboxClick(id);\n    },\n    [dispatch],\n  );\n\n  const handleSelectAll = () => {\n    dispatch(\n      updateOption({\n        name: 'selectedPlatformIds',\n        value: platforms.map(({ id }) => id),\n      }),\n    );\n    analytics.event.platforms.selectAll();\n  };\n\n  const handleSelectNone = () => {\n    dispatch(\n      updateOption({\n        name: 'selectedPlatformIds',\n        value: [],\n      }),\n    );\n    analytics.event.platforms.selectNone();\n  };\n\n  const renderPlatformsList = () => (\n    <PlatformsList isDisabled={isRolling}>\n      <Box component=\"span\" mb={1} style={{ marginLeft: 1 }}>\n        <Button\n          color=\"inherit\"\n          size=\"small\"\n          startIcon={\n            <CheckBoxIcon style={{ width: 24, height: 24 }} color=\"inherit\" />\n          }\n          onClick={handleSelectAll}\n        >\n          Select All\n        </Button>\n        <Button\n          color=\"inherit\"\n          size=\"small\"\n          startIcon={\n            <CheckBoxOutlineBlankIcon\n              style={{ width: 24, height: 24 }}\n              color=\"inherit\"\n            />\n          }\n          onClick={handleSelectNone}\n        >\n          Select None\n        </Button>\n      </Box>\n      <Scrollbar\n        style={{ flexGrow: 1 }}\n        native={windowSize.width < BREAKPOINTS.lg}\n      >\n        <List dense disablePadding>\n          {platforms.map(({ id, name, releaseDate, gamesCount }) => (\n            <Platform\n              key={id}\n              id={id}\n              name={name}\n              releaseDate={releaseDate}\n              gamesCount={gamesCount}\n              checked={selectedPlatformIds.includes(id)}\n              onNameClick={handleNameClick}\n              onCheckboxClick={handleCheckboxClick}\n            />\n          ))}\n        </List>\n      </Scrollbar>\n    </PlatformsList>\n  );\n\n  const renderCompactPlatformsList = () => (\n    <Scrollbar native={windowSize.width < BREAKPOINTS.lg}>\n      <List>\n        {platforms\n          .filter(({ id }) => selectedPlatformIds.includes(id))\n          .map(({ id, name }) => (\n            <ListItem key={id} style={{ padding: 0, marginBottom: 8 }}>\n              {name}\n            </ListItem>\n          ))}\n      </List>\n    </Scrollbar>\n  );\n\n  return (\n    <PlatformsRoot>\n      <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n        <Typography variant=\"h5\">Platforms</Typography>\n        <Button\n          color=\"default\"\n          variant=\"contained\"\n          size=\"small\"\n          onClick={handleToggleIsVisible}\n        >\n          {isVisible ? 'Hide' : 'Change'}\n        </Button>\n      </Box>\n\n      {isVisible ? renderPlatformsList() : renderCompactPlatformsList()}\n    </PlatformsRoot>\n  );\n};\n\nexport default Platforms;\n","import { Slider, withStyles } from '@material-ui/core';\n\nconst PrettoSlider = withStyles({\n  root: {\n    height: 8,\n  },\n  thumb: {\n    height: 24,\n    width: 24,\n    backgroundColor: '#fff',\n    border: '2px solid currentColor',\n    marginTop: -8,\n    marginLeft: -12,\n    '&:focus,&:hover,&$active': {\n      boxShadow: 'inherit',\n    },\n  },\n  active: {},\n  valueLabel: {\n    left: 'calc(-50% + 4px)',\n  },\n  track: {\n    height: 8,\n    borderRadius: 4,\n  },\n  rail: {\n    height: 8,\n    borderRadius: 4,\n  },\n})(Slider);\n\nexport default PrettoSlider;\n","const secondsToSpinMarks = [...Array(6)].map((_, i) => ({\n  value: (i + 1) * 10,\n  label: (i + 1) * 10,\n}));\n\nconst speedMarks = [...Array(5)].map((_, i) => ({\n  value: i + 1,\n  label: i + 1,\n}));\n\nconst numberOfGamesMarks = [2, 4, 6, 8, 10, 12, 14, 16].map((n) => ({\n  value: n,\n  label: n,\n}));\n\nconst options = [\n  {\n    id: 'secondsToSpin',\n    title: 'Seconds to Spin',\n    component: {\n      type: 'slider',\n      step: 1,\n      min: 10,\n      max: 60,\n      marks: secondsToSpinMarks,\n    },\n  },\n  {\n    id: 'speed',\n    title: 'Speed',\n    component: {\n      type: 'slider',\n      step: 1,\n      min: 1,\n      max: 5,\n      marks: speedMarks,\n    },\n  },\n  {\n    id: 'numberOfGames',\n    title: 'Number of Games',\n    component: {\n      type: 'slider',\n      step: 1,\n      min: 2,\n      max: 16,\n      marks: numberOfGamesMarks,\n    },\n  },\n];\n\nexport default options;\n","import React, { useState } from 'react';\nimport styled, { css } from 'styled-components';\nimport { useSelector, useDispatch } from 'react-redux';\nimport debounce from 'debounce';\nimport Typography from '@material-ui/core/Typography';\nimport { Button, Box, Mark } from '@material-ui/core';\n\nimport analytics from 'utils/analytics';\nimport PrettoSlider from 'components/PrettoSlider';\nimport {\n  secondsToSpinSelector,\n  speedSelector,\n  numberOfGamesSelector,\n  updateOption,\n  OptionName,\n} from 'features/options/optionsSlice';\nimport { isRollingSelector } from 'features/rollGame/rollGameSlice';\nimport options from 'features/options/options.mock';\n\nconst OptionsRoot = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\nconst OptionsList = styled.div<{ isDisabled: boolean }>`\n  transition-property: opacity;\n  transition-duration: 0.2s;\n  transition-timing-function: ease;\n\n  ${(p) =>\n    p.isDisabled &&\n    css`\n      opacity: 0.5;\n      pointer-events: none;\n    `};\n`;\n\ntype OptionSlider = {\n  type: 'slider';\n  step: number;\n  min: number;\n  max: number;\n  marks: Mark[];\n};\ntype Option = {\n  id: OptionName;\n  title: string;\n  component: OptionSlider; // and maybe something else in the future\n};\n\nconst Options = () => {\n  const dispatch = useDispatch();\n\n  const [isVisible, setIsVisible] = useState(false);\n\n  const isRolling = useSelector(isRollingSelector);\n  const secondsToSpin = useSelector(secondsToSpinSelector);\n  const speed = useSelector(speedSelector);\n  const numberOfGames = useSelector(numberOfGamesSelector);\n\n  const values: Record<string, number> = {\n    secondsToSpin,\n    speed,\n    numberOfGames,\n  };\n\n  const handleToggleIsVisible = () => {\n    setIsVisible(!isVisible);\n    analytics.event.ui.options(!isVisible);\n  };\n\n  const handleOptionChange = (name: OptionName) =>\n    debounce((event: any, value: number | number[]) => {\n      dispatch(updateOption({ name, value }));\n      analytics.event.ui.changeOption(name, (value as unknown) as number);\n    }, 500);\n\n  const renderSlider = (\n    { step, min, max, marks }: OptionSlider,\n    value: number,\n    onChange: (event: any, value: number | number[]) => void,\n  ) => (\n    <PrettoSlider\n      defaultValue={value}\n      step={step}\n      min={min}\n      max={max}\n      marks={marks}\n      valueLabelDisplay=\"auto\"\n      onChange={onChange}\n    />\n  );\n\n  const renderOption = ({ id, title, component }: Option) => (\n    <React.Fragment key={id}>\n      <Typography color=\"textSecondary\" gutterBottom>\n        {title}\n      </Typography>\n      {renderSlider(component, values[id], handleOptionChange(id))}\n    </React.Fragment>\n  );\n\n  const renderOptions = () => (\n    <OptionsList isDisabled={isRolling}>\n      {(options as Option[]).map(renderOption)}\n    </OptionsList>\n  );\n\n  return (\n    <OptionsRoot>\n      <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n        <Typography variant=\"h5\">Options</Typography>\n        <Button\n          color=\"default\"\n          variant=\"contained\"\n          size=\"small\"\n          onClick={handleToggleIsVisible}\n        >\n          {isVisible ? 'Hide' : 'Show'}\n        </Button>\n      </Box>\n\n      {isVisible && renderOptions()}\n    </OptionsRoot>\n  );\n};\n\nexport default Options;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport styled from 'styled-components';\nimport Typography from '@material-ui/core/Typography';\nimport { Button, Box } from '@material-ui/core';\nimport SearchIcon from '@material-ui/icons/Search';\nimport YouTubeIcon from '@material-ui/icons/YouTube';\n\nimport analytics from 'utils/analytics';\nimport {\n  isRollingSelector,\n  rolledGameSelector,\n} from 'features/rollGame/rollGameSlice';\n\nconst GameLinksRoot = styled.div``;\nconst ServiceLink = styled(Button)<{ target?: string; rel?: string }>`\n  width: 100%;\n  text-transform: none !important;\n\n  .MuiButton-label {\n    justify-content: flex-start;\n  }\n`;\nconst Links = styled.div`\n  display: grid;\n  grid-gap: 16px 16px;\n`;\n\nconst getLinks = (name: string) => {\n  // TODO: check other symbols and remove double spaces\n  const searchQuery = encodeURI(name.replace(/&/g, ''));\n\n  return [\n    {\n      id: 'youtube',\n      text: 'YouTube',\n      href: `//www.youtube.com/results?search_query=${searchQuery}`,\n      icon: <YouTubeIcon />,\n    },\n    {\n      id: 'gamefaqs',\n      text: 'GameFAQs',\n      href: `//gamefaqs.gamespot.com/search?game=${searchQuery}`,\n    },\n    {\n      id: 'metacritic',\n      text: 'Metacritic',\n      href: `//www.metacritic.com/search/all/${searchQuery}/results`,\n    },\n    {\n      id: 'hltb',\n      text: 'How Long To Beat',\n      href: `https://www.google.com/search?q=${searchQuery}%20site%3Ahowlongtobeat.com`,\n    },\n    {\n      id: 'gamerankings',\n      text: 'GameRankings',\n      href: `https://www.gamerankings.com/search.html?search=${searchQuery}&site=`,\n    },\n    {\n      id: 'emuparadise',\n      text: 'EmuParadise',\n      href: `//www.emuparadise.me/roms/search.php?query=${searchQuery}&section=all`,\n    },\n    {\n      id: 'coolrom',\n      text: 'CoolROM',\n      href: `//coolrom.com.au/search?q=${searchQuery}`,\n    },\n    {\n      id: 'romhustler',\n      text: 'RomHustler',\n      href: `//romhustler.org/roms/search/?q=${searchQuery}`,\n    },\n  ];\n};\n\nconst GameLinks = () => {\n  const isRolling = useSelector(isRollingSelector);\n  const rolledGame = useSelector(rolledGameSelector);\n\n  if (isRolling || !rolledGame) return null;\n\n  const links = getLinks(rolledGame.name);\n\n  return (\n    <GameLinksRoot>\n      <Box display=\"flex\" justifyContent=\"space-between\" mb={1}>\n        <Typography variant=\"h5\">Links</Typography>\n      </Box>\n\n      <Links>\n        {links.map(({ id, text, href, icon }) => (\n          <ServiceLink\n            key={id}\n            variant=\"outlined\"\n            color=\"inherit\"\n            startIcon={icon || <SearchIcon />}\n            size=\"medium\"\n            href={href}\n            target=\"_blank\"\n            rel=\"noreferrer noopener\"\n            onClick={() => analytics.event.searchLink(id)}\n          >\n            <Typography variant=\"inherit\" color=\"textSecondary\">\n              Search on{' '}\n              <Typography variant=\"inherit\" color=\"textPrimary\">\n                {text}\n              </Typography>\n            </Typography>\n          </ServiceLink>\n        ))}\n      </Links>\n    </GameLinksRoot>\n  );\n};\n\nexport default GameLinks;\n","import { easeExpOut, easeExpInOut, easeCircleInOut } from 'd3-ease';\n\nconst f1 = easeExpOut;\nconst f2 = easeExpInOut;\nconst f3 = easeCircleInOut;\n\nconst breakpointX1 = 0.2;\nconst breakpointX2 = 0.4;\nconst breakpointY1 = 0.2;\n\nconst timingFunction = (n: number) => {\n  // f1: (x: [0, bx1)) => y: [0, 1);\n  if (n < breakpointX1) {\n    const x = n * (1 / breakpointX1);\n    return f1(x);\n  }\n\n  // f2: (x: [bx1, bx2)) => y: [1, by1);\n  if (n < breakpointX2) {\n    const x = (n - breakpointX1) * (1 / (breakpointX2 - breakpointX1));\n    const y = f2(1 - x) * (1 - breakpointY1) + breakpointY1;\n\n    return y;\n  }\n\n  // f3: (x: [bx2, 1)) => y: [by1, 0);\n  const x = (n - breakpointX2) * (1 / (1 - breakpointX2));\n  const y = f3(1 - x) * breakpointY1;\n\n  return y;\n};\n\nexport default timingFunction;\n","let canvas: HTMLCanvasElement | null = null;\n\n/**\n * Uses canvas.measureText to compute and return the width of the given text of given font in pixels.\n *\n * @param {String} text The text to be rendered.\n * @param {String} font The css font descriptor that text is to be rendered with (e.g. \"bold 14px verdana\").\n *\n * @see https://stackoverflow.com/questions/118241/calculate-text-width-with-javascript/21015393#21015393\n */\nconst getTextWidth = (text: string, font: string) => {\n  if (!canvas) canvas = document.createElement(\"canvas\");\n\n  const context = canvas.getContext(\"2d\") as CanvasRenderingContext2D;\n\n  context.font = font;\n\n  const metrics = context.measureText(text);\n\n  return metrics.width;\n};\n\nexport default getTextWidth;\n","import getTextWidth from 'features/wheel/getTextWidth';\n\nconst sliceTextByMaxWidth = (text: string, font: string, maxWidth: number) => {\n  const width = getTextWidth(text, font);\n\n  if (width < maxWidth) return text;\n\n  let beginCursor = 0;\n  let endCursor = text.length;\n  let cursor = Math.floor(text.length / 2);\n\n  // eslint-disable-next-line no-constant-condition\n  while (true) {\n    const textSlice = `${text.slice(0, cursor)}...`;\n\n    const w = getTextWidth(textSlice, font);\n\n    if (w > maxWidth) {\n      endCursor = cursor;\n    } else {\n      beginCursor = cursor;\n    }\n\n    // middle between the beginCursor and the endCursor\n    cursor = beginCursor + Math.floor((endCursor - beginCursor) / 2);\n\n    if (beginCursor === cursor) return textSlice;\n  }\n};\n\nexport default sliceTextByMaxWidth;\n","/* eslint-disable no-param-reassign */\nimport { DrawState } from 'features/wheel/useDrawWheel';\n\nconst LINE_WIDTH = 4;\n\nconst meanAngleDeg = (angle1: number, angle2: number) =>\n  Math.atan2(\n    (Math.sin(angle1) + Math.sin(angle2)) / 2,\n    (Math.cos(angle1) + Math.cos(angle2)) / 2,\n  );\n\nconst getX = (offset: number, radius: number, angle: number) =>\n  offset + radius * Math.sin(angle);\n\nconst getY = (offset: number, radius: number, angle: number) =>\n  offset + radius * Math.cos(angle);\n\nconst precompiledWheel = document.createElement('canvas');\nlet wheelHash = '';\n\nconst getWheelHash = ({ segments, wheelColors, radius, scale }: DrawState) =>\n  `${segments[0].name}${wheelColors.text}${radius}${scale}`;\n\nconst precompileWheel = ({\n  segments,\n  radius,\n  segmentAngle,\n  textFont,\n  wheelColors,\n  scale,\n}: DrawState) => {\n  const ctx = precompiledWheel.getContext('2d') as CanvasRenderingContext2D;\n\n  const size = radius * 2;\n  const textOffset = (20 / 200) * radius;\n\n  precompiledWheel.width = size * scale;\n  precompiledWheel.height = size * scale;\n\n  ctx.scale(scale, scale);\n  ctx.clearRect(0, 0, size, size);\n\n  ctx.arc(radius, radius, radius, 0, 2 * Math.PI);\n  ctx.fillStyle = wheelColors.wheelBackground;\n  ctx.fill();\n\n  ctx.beginPath();\n  ctx.arc(radius, radius, radius - LINE_WIDTH / 2, 0, 2 * Math.PI);\n  ctx.strokeStyle = wheelColors.border;\n  ctx.lineWidth = LINE_WIDTH;\n\n  segments.forEach((_, i) => {\n    const lineX = getX(radius, radius, i * segmentAngle);\n    const lineY = getY(radius, radius, i * segmentAngle);\n\n    ctx.moveTo(lineX, lineY);\n    ctx.lineTo(radius, radius);\n  });\n\n  ctx.stroke();\n\n  ctx.font = textFont;\n  ctx.fillStyle = wheelColors.text;\n\n  segments.forEach((segment, i) => {\n    const from = i * segmentAngle;\n    const to = (i + 1) * segmentAngle;\n\n    const meanAngle = meanAngleDeg(from, to);\n    const textAngleRotation = meanAngle + Math.PI;\n    const textAngle = -(meanAngle + 1.5 * Math.PI);\n    const textX = getX(radius, radius - textOffset, textAngle);\n    const textY = getY(radius, radius - textOffset, textAngle);\n\n    ctx.save();\n    ctx.translate(textX, textY);\n    ctx.rotate(textAngleRotation);\n    ctx.fillText(segment.name, 0, 4);\n    ctx.restore();\n  });\n};\n\nconst drawCircle = (drawState: DrawState) => {\n  const { context, radius, rotationAngle, scale } = drawState;\n\n  if (!context) return;\n\n  const size = radius * 2;\n\n  context.setTransform(1, 0, 0, 1, 0, 0);\n  context.scale(scale, scale);\n  context.clearRect(0, 0, size, size);\n\n  context.translate(radius, radius);\n  context.rotate(rotationAngle);\n  context.translate(-radius, -radius);\n\n  const currentHash = getWheelHash(drawState);\n\n  if (wheelHash !== currentHash) {\n    wheelHash = currentHash;\n\n    precompileWheel(drawState);\n  }\n\n  context.drawImage(precompiledWheel, 0, 0, size, size);\n};\n\nexport default drawCircle;\n","import { useEffect, useRef } from 'react';\nimport { useSelector } from 'react-redux';\nimport useSound from 'use-sound';\n\nimport timingFunction from 'utils/timingFunction';\nimport { GLOBAL_FONT } from 'utils/constants';\nimport sliceTextByMaxWidth from 'features/wheel/sliceTextByMaxWidth';\nimport drawWheel from 'features/wheel/drawWheel';\nimport {\n  isRollingSelector,\n  rolledGamesSelector,\n} from 'features/rollGame/rollGameSlice';\nimport { RolledGame } from 'features/rollGame/rollGameTypes';\nimport {\n  secondsToSpinSelector,\n  speedSelector,\n} from 'features/options/optionsSlice';\nimport { WheelColors } from 'features/wheel/WheelCanvas';\n\n/* eslint-disable @typescript-eslint/no-var-requires */\nconst wheelTickSfx = require('features/wheel/sounds/wheel-tick.mp3');\nconst wheelCompleteSfx = require('features/wheel/sounds/wheel-complete.mp3');\n/* eslint-enable @typescript-eslint/no-var-requires */\n\ntype OnRollComplete = (id: number) => void;\n\ntype Options = {\n  radius: number;\n  canvasRef: React.RefObject<HTMLCanvasElement>;\n  wheelColors: WheelColors;\n  onRollComplete: OnRollComplete;\n};\n\nexport type DrawState = {\n  context: CanvasRenderingContext2D | null | undefined;\n  segments: RolledGame[];\n  radius: number;\n  wheelColors: WheelColors;\n  textFont: string;\n  // full canvas rotation angle\n  rotationAngle: number;\n  segmentAngle: number;\n  scale: number;\n};\n\ntype State = {\n  // requestAnimationFrame id\n  requestId: number | null;\n  // previous time in the animate function\n  prevTime: number | null;\n  // time from the start of the animation\n  fullTime: number;\n  // current segment\n  currentIndex: number;\n  secondsToSpin: number;\n  speed: number;\n  start: Function;\n  stop: Function;\n  onRollComplete: OnRollComplete;\n};\n\nconst normalizeSegments = (\n  segments: RolledGame[],\n  textFont: string,\n  maxTextWidth: number,\n): RolledGame[] =>\n  segments.map(({ name, ...rest }) => ({\n    name: sliceTextByMaxWidth(name, textFont, maxTextWidth),\n    ...rest,\n  }));\n\nconst getGameIndexByAngle = ({ rotationAngle, segmentAngle }: DrawState) => {\n  const normalizedAngle =\n    Math.abs((rotationAngle % (Math.PI * 2)) - Math.PI * 2) + Math.PI;\n\n  return Math.floor((normalizedAngle % (Math.PI * 2)) / segmentAngle);\n};\n\nconst getDevicePixelRatio = () => window.devicePixelRatio || 1;\n\nconst getTextFont = (radius: number) =>\n  `${(12 / 200) * radius}px ${GLOBAL_FONT}`;\n\nconst getSegmentAngle = (segmentsCount: number) =>\n  (2 * Math.PI) / segmentsCount;\n\nconst getInitialState = (\n  secondsToSpin: number,\n  speed: number,\n  onRollComplete: OnRollComplete,\n): State => ({\n  requestId: null,\n  prevTime: null,\n  fullTime: 0,\n  currentIndex: 0,\n  secondsToSpin,\n  speed,\n  start: () => null,\n  stop: () => null,\n  onRollComplete,\n});\n\nconst getInitialDrawState = (\n  segments: RolledGame[],\n  wheelColors: WheelColors,\n  radius: number,\n): DrawState => ({\n  context: null,\n  segments,\n  radius,\n  wheelColors,\n  textFont: getTextFont(radius),\n  rotationAngle: 0,\n  segmentAngle: getSegmentAngle(segments.length),\n  scale: getDevicePixelRatio(),\n});\n\nconst useDrawCircle = ({\n  radius,\n  canvasRef,\n  wheelColors,\n  onRollComplete,\n}: Options) => {\n  const isRolling = useSelector(isRollingSelector);\n  const speed = useSelector(speedSelector);\n  const secondsToSpin = useSelector(secondsToSpinSelector);\n  const rolledGames = useSelector(rolledGamesSelector);\n\n  const [playTick] = useSound(wheelTickSfx);\n  const [playComplete] = useSound(wheelCompleteSfx);\n\n  const stateRef = useRef<State>();\n  const drawStateRef = useRef<DrawState>();\n\n  // initialize state\n  if (!stateRef.current) {\n    stateRef.current = getInitialState(secondsToSpin, speed, onRollComplete);\n  }\n\n  // initialize draw state\n  if (!drawStateRef.current) {\n    drawStateRef.current = getInitialDrawState(\n      rolledGames,\n      wheelColors,\n      radius,\n    );\n  }\n\n  // this object links never changes\n  const state = stateRef.current;\n  const drawState = drawStateRef.current;\n\n  useEffect(() => {\n    drawState.context = canvasRef.current?.getContext('2d');\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [drawState, canvasRef, canvasRef.current]);\n\n  useEffect(() => {\n    const textMaxWidth = (135 / 200) * drawState.radius;\n\n    drawState.segments = normalizeSegments(\n      rolledGames,\n      drawState.textFont,\n      textMaxWidth,\n    );\n    drawState.segmentAngle = getSegmentAngle(rolledGames.length);\n\n    if (state.requestId === null) {\n      window.requestAnimationFrame(() => drawWheel(drawState));\n    }\n  }, [state, drawState, rolledGames]);\n\n  useEffect(() => {\n    drawState.wheelColors = wheelColors;\n    drawState.radius = radius;\n    drawState.textFont = getTextFont(radius);\n\n    if (state.requestId === null) {\n      window.requestAnimationFrame(() => drawWheel(drawState));\n    }\n  }, [state, drawState, wheelColors, radius]);\n\n  useEffect(() => {\n    state.speed = speed;\n    state.secondsToSpin = secondsToSpin;\n    state.onRollComplete = onRollComplete;\n  }, [state, speed, secondsToSpin, onRollComplete]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      drawState.scale = getDevicePixelRatio();\n    };\n\n    window.addEventListener('resize', handleResize);\n\n    return () => window.removeEventListener('resize', handleResize);\n  }, [drawState]);\n\n  // TODO: optimize this effect\n  useEffect(() => {\n    if (!canvasRef.current) return;\n\n    /* eslint-disable no-param-reassign */\n    canvasRef.current.width = radius * 2 * drawState.scale;\n    canvasRef.current.height = radius * 2 * drawState.scale;\n    /* eslint-enable no-param-reassign */\n\n    if (state.requestId === null) {\n      window.requestAnimationFrame(() => drawWheel(drawState));\n    }\n  }, [canvasRef, state, drawState, drawState.scale, radius]);\n\n  useEffect(() => {\n    const stop = () => {\n      if (!state.requestId) return;\n\n      window.cancelAnimationFrame(state.requestId);\n      state.requestId = null;\n    };\n\n    const animate = (time: number) => {\n      // first draw\n      if (state.prevTime === null) {\n        state.currentIndex = getGameIndexByAngle(drawState);\n        state.prevTime = time;\n      }\n\n      const deltaTime = time - state.prevTime;\n\n      state.prevTime = time;\n      state.fullTime += deltaTime;\n\n      if (state.fullTime > state.secondsToSpin * 1000) {\n        state.onRollComplete(state.currentIndex);\n        // TODO: remove options object\n        playComplete({});\n        stop();\n\n        return;\n      }\n\n      const currentIndex = getGameIndexByAngle(drawState);\n\n      if (state.currentIndex !== currentIndex) {\n        // TODO: remove options object\n        playTick({});\n        state.currentIndex = currentIndex;\n      }\n\n      // NOTE: in \"variableI\" letter \"I\" means UnitInterval - [0, 1)\n\n      const timeI = state.fullTime / (state.secondsToSpin * 1000);\n      const speedI = timingFunction(timeI);\n      const deltaAngle = ((2 * Math.PI) / 360) * speedI * state.speed;\n\n      drawState.rotationAngle += deltaAngle;\n\n      drawWheel(drawState);\n\n      state.requestId = window.requestAnimationFrame(animate);\n    };\n\n    const start = () => {\n      if (drawState.context) {\n        // reset transform\n        drawState.context.setTransform(1, 0, 0, 1, 0, 0);\n      }\n\n      drawState.rotationAngle = 0;\n      state.currentIndex = 0;\n      state.prevTime = null;\n      state.fullTime = 0;\n      state.requestId = window.requestAnimationFrame(animate);\n    };\n\n    state.start = start;\n    state.stop = stop;\n\n    // eslint-disable-next-line consistent-return\n    return () => stop();\n  }, [state, drawState, playTick, playComplete]);\n\n  useEffect(() => {\n    if (isRolling) {\n      state.start();\n    }\n  }, [state, isRolling]);\n};\n\nexport default useDrawCircle;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from \"react\";\n\nvar _ref = /*#__PURE__*/React.createElement(\"path\", {\n  strokeWidth: 4,\n  d: \"M2 3v26l26-13z\"\n});\n\nconst SvgArrowRight = ({\n  svgRef,\n  title,\n  ...props\n}) => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  viewBox: \"0 0 32 32\",\n  ref: svgRef\n}, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref);\n\nconst ForwardRef = React.forwardRef((props, ref) => /*#__PURE__*/React.createElement(SvgArrowRight, _extends({\n  svgRef: ref\n}, props)));\nexport default __webpack_public_path__ + \"static/media/arrow-right.8823db83.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useWindowSize } from 'react-use';\n\nimport analytics from 'utils/analytics';\nimport { BREAKPOINTS } from 'utils/constants';\nimport {\n  rollGameComplete,\n  rollGameStart,\n  updateRolledGames,\n  isRollingSelector,\n} from 'features/rollGame/rollGameSlice';\nimport useDrawWheel from 'features/wheel/useDrawWheel';\nimport {\n  selectedPlatformIdsSelector,\n  currentThemeSelector,\n} from 'features/options/optionsSlice';\nimport { AppTheme } from 'features/options/optionsTypes';\n\nimport { ReactComponent as ArrowRightSvg } from 'icons/arrow-right.svg';\n\ntype CircleCanvasRootProps = {\n  width: number;\n  height: number;\n};\nconst CircleCanvasRoot = styled.div<CircleCanvasRootProps>`\n  position: relative;\n  align-self: center;\n  width: ${(p) => p.width}px;\n  height: ${(p) => p.height}px;\n`;\nconst Canvas = styled.canvas`\n  position: relative;\n  z-index: 0;\n  display: block;\n  width: ${(p) => p.width}px;\n  height: ${(p) => p.height}px;\n`;\ntype RollButtonProps = {\n  radius: number;\n  bgColor: string;\n  textColor: string;\n  borderColor: string;\n};\nconst RollButton = styled.button<RollButtonProps>`\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin: 0;\n  padding: 0;\n  width: ${(p) => (60 / 200) * p.radius}px;\n  height: ${(p) => (60 / 200) * p.radius}px;\n  color: ${(p) => p.textColor};\n  background-color: ${(p) => p.bgColor};\n  border: 4px solid ${(p) => p.borderColor};\n  border-radius: 50%;\n  font-size: ${(p) => (14 / 200) * p.radius}px;\n  text-transform: uppercase;\n  outline: none;\n  cursor: pointer;\n  transform: translate(-50%, -50%);\n  transition-property: color;\n  transition-duration: 0.2s;\n  transition-timing-function: ease;\n\n  &[disabled] {\n    color: transparent;\n    pointer-events: none;\n  }\n`;\ntype ArrowRightIconProps = {\n  bgColor: string;\n  borderColor: string;\n};\n// TODO: remove this after styled-components fix this\n/* eslint-disable react/jsx-props-no-spreading, @typescript-eslint/no-unused-vars */\nconst ArrowRightSvgFiltered = ({ bgColor, borderColor, ...rest }: any) => (\n  <ArrowRightSvg {...rest} />\n);\nconst ArrowRightIcon = styled(ArrowRightSvgFiltered)<ArrowRightIconProps>`\n  position: absolute;\n  top: 50%;\n  left: 1px;\n  width: 32px;\n  height: 32px;\n  transform: translateY(-50%);\n  fill: ${(p) => p.bgColor};\n  stroke: ${(p) => p.borderColor};\n`;\n\nexport type WheelColors = {\n  wheelBackground: string;\n  buttonBackground: string;\n  text: string;\n  border: string;\n};\n\nconst wheelThemes: Record<AppTheme, WheelColors> = {\n  dark: {\n    wheelBackground: '#212121',\n    buttonBackground: '#424242',\n    text: '#fff',\n    border: '#fff',\n  },\n  light: {\n    wheelBackground: '#fff',\n    buttonBackground: '#fff',\n    text: 'rgba(0, 0, 0, 0.87)',\n    border: '#424242',\n  },\n};\n\nconst CircleCanvas = () => {\n  const dispatch = useDispatch();\n  const [radius, setRadius] = useState(300);\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n  const isRolling = useSelector(isRollingSelector);\n  const selectedPlatformIds = useSelector(selectedPlatformIdsSelector);\n  const windowSize = useWindowSize();\n  const currentTheme = useSelector(currentThemeSelector);\n  const [wheelColors, setWheelColors] = useState(wheelThemes[currentTheme]);\n\n  useEffect(() => {\n    setWheelColors(wheelThemes[currentTheme]);\n  }, [currentTheme, setWheelColors]);\n\n  const size = radius * 2;\n\n  const isRollButtonDisabled = isRolling || !selectedPlatformIds.length;\n\n  useEffect(() => {\n    const handleResize = () => {\n      if (windowSize.width < BREAKPOINTS.sm) {\n        setRadius(140);\n      } else if (windowSize.width < BREAKPOINTS.xl) {\n        setRadius(200);\n      } else {\n        setRadius(300);\n      }\n    };\n\n    handleResize();\n  }, [setRadius, windowSize.width]);\n\n  const handleRollStart = () => {\n    dispatch(updateRolledGames());\n    dispatch(rollGameStart());\n    analytics.event.rollGame.start();\n  };\n\n  const handleRollComplete = (id: number) => {\n    dispatch(rollGameComplete(id));\n    analytics.event.rollGame.complete();\n  };\n\n  useDrawWheel({\n    canvasRef,\n    radius,\n    wheelColors,\n    onRollComplete: handleRollComplete,\n  });\n\n  return (\n    <CircleCanvasRoot width={size} height={size}>\n      <Canvas width={size} height={size} ref={canvasRef} />\n      <RollButton\n        disabled={isRollButtonDisabled}\n        radius={radius}\n        bgColor={wheelColors.buttonBackground}\n        borderColor={wheelColors.border}\n        textColor={wheelColors.text}\n        onClick={handleRollStart}\n      >\n        Roll\n      </RollButton>\n      <ArrowRightIcon\n        bgColor={wheelColors.wheelBackground}\n        borderColor={wheelColors.border}\n      />\n    </CircleCanvasRoot>\n  );\n};\n\nexport default CircleCanvas;\n","const replaceSpacesWithNbsp = (text: string) => text.replace(/ /g, '&nbsp;');\n\nexport default replaceSpacesWithNbsp;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport * as R from 'ramda';\nimport { Typography } from '@material-ui/core';\n\nimport replaceSpacesWithNbsp from 'utils/replaceSpacesWithNbsp';\nimport { selectedPlatformIdsSelector } from 'features/options/optionsSlice';\n\nimport platforms from 'data/platforms.json';\n\nconst SelectedPlatformsMessage = () => {\n  const selectedPlatformIds = useSelector(selectedPlatformIdsSelector);\n\n  if (!selectedPlatformIds.length) {\n    return (\n      <Typography variant=\"h6\">Please choose one or more platfotms</Typography>\n    );\n  }\n\n  const selectedPlatformsText = (\n    <>Selected&nbsp;platform{selectedPlatformIds.length === 1 ? '' : 's'}: </>\n  );\n\n  const renderSelectedPlatformsList = () => {\n    if (selectedPlatformIds.length === platforms.length) {\n      return (\n        <Typography variant=\"inherit\" color=\"textPrimary\">\n          All\n        </Typography>\n      );\n    }\n\n    const selectedPlatforms = selectedPlatformIds\n      .slice(0, 3)\n      .map((id) => platforms.find(R.propEq('id', id))) as typeof platforms;\n\n    const selectedPlatformsList = selectedPlatforms.map(\n      ({ id, name }, index) => (\n        <React.Fragment key={id}>\n          <Typography\n            variant=\"inherit\"\n            color=\"textPrimary\"\n            dangerouslySetInnerHTML={{\n              __html: replaceSpacesWithNbsp(name),\n            }}\n          />\n          {selectedPlatforms.length - 1 !== index && ', '}\n        </React.Fragment>\n      ),\n    );\n\n    const renderPlatformsMoreText = () => (\n      <>\n        {' and'}&nbsp;\n        <Typography variant=\"inherit\" color=\"textPrimary\">\n          {selectedPlatformIds.length - 3}\n        </Typography>\n        &nbsp;more\n      </>\n    );\n\n    return (\n      <>\n        {selectedPlatformsList}\n        {selectedPlatformIds.length > 3 && renderPlatformsMoreText()}\n      </>\n    );\n  };\n\n  return (\n    <Typography variant=\"h6\" color=\"textSecondary\">\n      {selectedPlatformsText}\n      {renderSelectedPlatformsList()}\n    </Typography>\n  );\n};\n\nexport default SelectedPlatformsMessage;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { Typography } from '@material-ui/core';\n\nimport {\n  isRollingSelector,\n  rolledGameSelector,\n} from 'features/rollGame/rollGameSlice';\nimport SelectedPlatformsMessage from 'features/rollGame/SelectedPlatformsMessage';\n\nconst ResultRoot = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: 32px;\n  text-align: center;\n`;\n\nconst Result = () => {\n  const isRolling = useSelector(isRollingSelector);\n  const rolledGame = useSelector(rolledGameSelector);\n\n  const renderRolledGame = () => {\n    if (!rolledGame) return null;\n\n    const { name, platform } = rolledGame;\n\n    return (\n      <>\n        <Typography\n          variant=\"h4\"\n          style={{ marginBottom: 8, textAlign: 'center' }}\n        >\n          {name}\n        </Typography>\n        <Typography variant=\"h6\" color=\"textSecondary\">\n          Platform:{' '}\n          <Typography variant=\"inherit\" color=\"textPrimary\">\n            {platform}\n          </Typography>\n        </Typography>\n      </>\n    );\n  };\n\n  return (\n    <ResultRoot>\n      {isRolling || !rolledGame ? (\n        <SelectedPlatformsMessage />\n      ) : (\n        renderRolledGame()\n      )}\n    </ResultRoot>\n  );\n};\n\nexport default Result;\n","import React, { useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useDispatch } from 'react-redux';\n\nimport WheelCanvas from 'features/wheel/WheelCanvas';\nimport Result from 'features/rollGame/Result';\nimport { updateRolledGames } from 'features/rollGame/rollGameSlice';\n\nconst RollGameRoot = styled.main`\n  display: flex;\n  flex-direction: column;\n`;\n\ntype Props = {\n  className?: string;\n};\n\nconst RollGame = ({ className }: Props) => {\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(updateRolledGames());\n  }, [dispatch]);\n\n  return (\n    <RollGameRoot className={className}>\n      <WheelCanvas />\n      <Result />\n    </RollGameRoot>\n  );\n};\n\nexport default RollGame;\n","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { useSelector } from 'react-redux';\nimport { ThemeProvider, Box } from '@material-ui/core';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeOptions } from '@material-ui/core/styles/createMuiTheme';\nimport * as colors from '@material-ui/core/colors';\n\nimport GlobalStyles from 'styles';\nimport { BREAKPOINTS } from 'utils/constants';\nimport Header from 'components/Header';\nimport Sidebar from 'components/Sidebar';\nimport Footer from 'components/Footer';\nimport Platforms from 'features/platforms/Platforms';\nimport Options from 'features/options/Options';\nimport GameLinks from 'features/rollGame/GameLinks';\nimport RollGame from 'features/rollGame/RollGame';\nimport { currentThemeSelector } from 'features/options/optionsSlice';\nimport { AppTheme } from 'features/options/optionsTypes';\n\nconst themes: Record<string, ThemeOptions> = {\n  dark: {\n    palette: {\n      type: 'dark',\n      primary: colors.grey,\n      background: {\n        paper: colors.grey[900],\n        default: colors.grey[800],\n      },\n    },\n  },\n  light: {\n    palette: {\n      type: 'light',\n      primary: colors.grey,\n    },\n  },\n};\n\nconst AppRoot = styled(Box)`\n  display: grid;\n  min-height: 100vh;\n  grid-template-rows: 48px 24px auto 24px auto 24px auto 24px 200px;\n  grid-template-columns: 16px auto 16px;\n  grid-template-areas:\n    'header header header'\n    '.      .      .     '\n    '.      main   .     '\n    '.      .      .     '\n    '.      side-r .     '\n    '.      .      .     '\n    '.      side-l .     '\n    '.      .      .     '\n    'footer footer footer';\n\n  @media (min-width: ${BREAKPOINTS.md}px) {\n    grid-template-rows: 48px 24px auto 24px auto 24px 48px;\n    grid-template-columns: 32px 1fr 24px 1fr 32px;\n    grid-template-areas:\n      'header header header header header'\n      '.      .      .      .      .     '\n      '.      main   main   main   .     '\n      '.      .      .      .      .     '\n      '.      side-l .      side-r .     '\n      '.      .      .      .      .     '\n      'footer footer footer footer footer';\n  }\n\n  @media (min-width: ${BREAKPOINTS.lg}px) {\n    grid-template-rows: 48px 16px auto 16px 48px;\n    grid-template-columns: auto 340px 16px 488px 16px 340px auto;\n    grid-template-areas:\n      'header header header header header header header'\n      '.      .      .      .      .      .      .     '\n      '.      side-l .      main   .      side-r .     '\n      '.      .      .      .      .      .      .     '\n      'footer footer footer footer footer footer footer';\n  }\n\n  @media (min-width: ${BREAKPOINTS.xl}px) {\n    grid-template-rows: 64px 40px auto 40px 64px;\n    grid-template-columns: auto 360px 40px 840px 40px 360px auto;\n  }\n`;\nconst StyledHeader = styled(Header)`\n  grid-area: header;\n`;\nconst StyledSidebarLeft = styled(Sidebar)`\n  grid-area: side-l;\n`;\nconst StyledSidebarRight = styled(Sidebar)`\n  grid-area: side-r;\n`;\nconst StyledRollGame = styled(RollGame)`\n  grid-area: main;\n`;\nconst StyledFooter = styled(Footer)`\n  grid-area: footer;\n`;\n\nconst getTheme = (theme: AppTheme) => createMuiTheme(themes[theme]);\n\nconst App: React.FC = () => {\n  const currentTheme = useSelector(currentThemeSelector);\n  const [theme, setTheme] = useState(() => getTheme(currentTheme));\n\n  useEffect(() => {\n    setTheme(getTheme(currentTheme));\n  }, [currentTheme]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <AppRoot bgcolor=\"background.paper\" color=\"text.primary\">\n        <StyledHeader />\n        <StyledSidebarLeft>\n          <Platforms />\n        </StyledSidebarLeft>\n        <StyledSidebarRight>\n          <Options />\n          <GameLinks />\n        </StyledSidebarRight>\n        <StyledRollGame />\n        <StyledFooter />\n      </AppRoot>\n      <GlobalStyles />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import { combineReducers } from '@reduxjs/toolkit';\n\nimport rollGame from 'features/rollGame/rollGameSlice';\nimport options from 'features/options/optionsSlice';\n\nconst rootReducer = combineReducers({\n  rollGame,\n  options,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { configureStore, Action } from '@reduxjs/toolkit';\nimport { ThunkAction } from 'redux-thunk';\n\nimport rootReducer, { RootState } from 'app/rootReducer';\n\nconst store = configureStore({\n  reducer: rootReducer,\n});\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport type AppThunk = ThunkAction<void, RootState, null, Action<string>>;\n\nexport default store;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport analytics from 'utils/analytics';\nimport App from 'app/App';\nimport store from 'app/store';\nimport * as serviceWorker from './serviceWorker';\n\nif (process.env.NODE_ENV === 'production') {\n  analytics.initialize();\n\n  const page =\n    window.location.pathname + window.location.search + window.location.hash;\n\n  analytics.pageview(page);\n}\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.register();\n"],"sourceRoot":""}